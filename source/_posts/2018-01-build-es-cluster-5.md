---
title: Elastic Cluster êµ¬ì„± 5
tags:
  - Elastic
  - Elasticsearch
  - Elastic Cluster Settings
categories:
  - Elasticsearch
subtitle: NFS êµ¬ì„± ë° elasticsearch ì¶”ê°€ ì„¤ì •
date: 2018-01-05
header-img: "bg-linux-prompt.jpeg"
---

ì›ë˜ ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” X-Pack Securityë¥¼ ë‹¤ë£¨ë ¤ê³  í–ˆìœ¼ë‚˜ ëª‡ê°€ì§€ êµ¬ì„±ì„ ë¨¼ì € ì¶”ê°€í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ìš°ì„  NFS(Network File System)ì„ ì„¤ì •í•´ì„œ ëª¨ë“  ì„œë²„ì˜ `/usr/share/elasticsearch` ë””ë ‰í† ë¦¬ë¥¼ ë™ê¸°í™” ì‹œí‚¤ê³  ì—…ê·¸ë ˆì´ë“œë‚˜ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ ë“±ì„ í•œë²ˆì— í•  ìˆ˜ ìˆë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

ì°¸ê³ ë¡œ NFS ì„¤ì •ì€ ì˜ëª»í•˜ë‹¤ê°€ ì„¤ì •ì´ ê¼¬ì—¬ë²„ë¦´ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì‹œê³  ì„¤ì •ì„ ì›í•˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒ í¬ìŠ¤íŠ¸ë¡œ ë„˜ì–´ê°€ì‹œê¸° ë°”ëë‹ˆë‹¤.
(ì €ë„ ì„¤ì • í•˜ë‹¤ê°€ ë„¤íŠ¸ì›Œí¬ ë””ë ‰í† ë¦¬ í¼ë¯¸ì…˜ ì„¤ì • ë“± ëª‡ê°€ì§€ê°€ ê¼¬ì—¬ì„œ ì‹¹ ë°€ê³  ì²˜ìŒë¶€í„° ìƒˆë¡œ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤.) ğŸ¤¯

ì´ì „ ë˜ëŠ” ì´í›„ ë‚´ìš©ë“¤ì€ ì•„ë˜ í¬ìŠ¤íŠ¸ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

> [1. ì„œë²„ ìƒì„± ë° Elasticsearch RPM ì„¤ì¹˜](/2018/01/2018-01-build-es-cluster-1)
> [2. ë©”ëª¨ë¦¬, ë„¤íŠ¸ì›Œí¬ ì„¤ì • ë° í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜](/2018/01/2018-01-build-es-cluster-2)
> [3. í´ëŸ¬ìŠ¤í„° êµ¬ì„± ë° ë§ˆìŠ¤í„°, ë°ì´í„° ë…¸ë“œ ì„¤ì •](/2018/01/2018-01-build-es-cluster-3)
> [4. Kibana ì„¤ì¹˜ ë° X-Pack Monitoring í™•ì¸](/2018/01/2018-01-build-es-cluster-4)
> **5. NFS êµ¬ì„± ë° elasticsearch ì¶”ê°€ ì„¤ì •**
> [6. X-Pack Securityë¥¼ ì´ìš©í•œ SSL ë° TLS ì„¤ì •](/2018/01/2018-01-build-es-cluster-6)
> [7. X-Pack License ì ìš© ë° ì‚¬ìš©ì ìƒì„±](/2018/01/2018-01-build-es-cluster-7)
> [8. Logstash ì„¤ì¹˜ ë° Elasticsearch ê¸°ë³¸ í…œí”Œë¦¿ ì„¤ì •](/2018/01/2018-01-build-es-cluster-8)

ë§ë¶™ì—¬ ìƒˆë²½ì— í˜ì´ìŠ¤ë¶ì— ë‹¬ë¦° ì§ˆë¬¸ì„ ë³´ê³  ì ì‹œ ê³ ë¯¼ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  êµ¬ì„±ì„ ë‹¤ìŒê³¼ ê°™ì´ ë°ì´í„° ë…¸ë“œ 3ê°œ(ë§ˆìŠ¤í„° ê²¸ì„)ì™€ ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œ(ë°ì´í„°ë¥¼ ì €ì¥í•˜ì§€ ì•Šê³  ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ í†µì‹ ë§Œ ë‹´ë‹¹í•˜ëŠ”, í´ë¼ì´ì–¸íŠ¸ ë…¸ë“œ ë¼ê³  ë¶€ë¥´ê¸°ë„ í•©ë‹ˆë‹¤) ë…¸ë“œë¡œ ë°”ê¾¸ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì•„í‚¤í…ì³ì˜ êµ¬ì„±ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

![](coordinate-node.png)

- ë°ì´í„°ë…¸ë“œ 1~3ê°œ ì¤‘ ì„ì˜ì˜ ë…¸ë“œ í•˜ë‚˜ê°€ ë§ˆìŠ¤í„° ë…¸ë“œë¥¼ ê²¸í•˜ê²Œ ë©ë‹ˆë‹¤.
- ê¸°ì¡´ ë§ˆìŠ¤í„° ë…¸ë“œëŠ” ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œë¡œ Kibana ë° ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ì˜ í†µì‹ ë§Œ ì²˜ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤.
- ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œëŠ” ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ REST APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.(9200 í¬íŠ¸)
- ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œì™€ ë°ì´í„° ë…¸ë“œë“¤ì€ transport í”„ë¡œí† ì½œ(9300 í¬íŠ¸)ë¡œ ë°ì´í„°ë¥¼ êµí™˜í•©ë‹ˆë‹¤.
- ë°ì´í„° ë…¸ë“œë“¤ì€ REST APIë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤. `http.enabled: false`
- ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œ ì„œë²„ì˜ `/usr/share/elasticsearch` ë””ë ‰í† ë¦¬ë¥¼ ë°ì´í„° ë…¸ë“œì™€ ê³µìœ í•©ë‹ˆë‹¤.
- ë³´ì•ˆê·¸ë£¹ 1ì€ ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œ ì„œë²„ì—ë§Œ ì ìš© ë˜ë©° í—ˆê°€ëœ í¬íŠ¸ë¡œë§Œ ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ì™€ í†µì‹ ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ë³´ì•ˆê·¸ë£¹ 2ëŠ” ëª¨ë“  ì„œë²„ì— ì ìš©ë˜ë©° ì´ ê·¸ë£¹ ì•ˆì˜ ì„œë²„ë“¤ ë¼ë¦¬ëŠ” ììœ ë¡­ê²Œ í†µì‹ ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## NFS ì„¤ì •

NFS ì„¤ì •ì€ ë‹¤ìŒ í¬ìŠ¤íŠ¸ë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.
https://www.digitalocean.com/community/tutorials/how-to-set-up-an-nfs-mount-on-centos-6

í¸ì˜ìƒ ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œë¥¼ ì„œë²„, ë°ì´í„° ë…¸ë“œ 3ëŒ€ë¥¼ í´ë¼ì´ì–¸íŠ¸ ë¼ê³  í‘œí˜„ í•˜ê² ìŠµë‹ˆë‹¤. ì„œë²„ì˜ ì£¼ì†ŒëŠ” `192.168.0.10`, í´ë¼ì´ì–¸íŠ¸ì˜ ì£¼ì†ŒëŠ” ê°ê° `192.168.0.11`,`192.168.0.12`,`192.168.0.13` ì´ë¼ê³  ê°€ì • í•˜ê² ìŠµë‹ˆë‹¤.
ìš°ì„  ì €í¬ Amazon linux ì„œë²„ì—ëŠ” `nfs-utils`,`nfs-utils-lib` ê°€ ì´ë¯¸ ì„¤ì¹˜ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ ìœ„ í¬ìŠ¤íŠ¸ë¥¼ ì°¸ê³ í•´ì„œ ì„¤ì¹˜í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

4ê°œì˜ ëª¨ë“  ì„œë²„ì—ì„œ ë¨¼ì € elasticsearch ì„œë¹„ìŠ¤ë¥¼ ì¤‘ì§€í•©ë‹ˆë‹¤.
```
sudo service elasticsearch stop
```

### `/usr/share/elasticsearch` ê³µìœ  ì„¤ì •

ë¨¼ì € elasticsearch í”„ë¡œê·¸ë¨ë“¤ì´ ë“¤ì–´ìˆëŠ” `/usr/share/elasticsearch` ë””ë ‰í† ë¦¬ ê³µìœ ë¥¼ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤. ê³µìœ ë¥¼ í•˜ëŠ” ëª©ì ì€ ì—…ê·¸ë ˆì´ë“œë‚˜ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ ë“±ì„ ê° ì„œë²„ë³„ë¡œ í•˜ì§€ ì•Šê³  í•œë²ˆì— ì ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.

#### ì„œë²„

ì„œë²„ì—ì„œ `/etc/exports` íŒŒì¼ì„ ì—´ê³ 
```
sudo vim /etc/exports
```

ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
```
/usr/share/elasticsearch  192.168.0.11(rw,sync,no_root_squash,no_subtree_check)
/usr/share/elasticsearch  192.168.0.12(rw,sync,no_root_squash,no_subtree_check)
/usr/share/elasticsearch  192.168.0.13(rw,sync,no_root_squash,no_subtree_check)
```

ê·¸ë¦¬ê³  ì„¤ì •ì„ ì ìš© í•´ ì¤ë‹ˆë‹¤.
```
sudo exportfs -a
```

#### í´ë¼ì´ì–¸íŠ¸

ì´ì œ í´ë¼ì´ì–¸íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. 3ê°œ ì‹œìŠ¤í…œì— ëª¨ë‘ ì ìš© í•´ ì¤˜ì•¼ í•©ë‹ˆë‹¤.
ë¨¼ì € ê¸°ì¡´ì˜ `/usr/share/elasticsearch` ë¥¼ ì‚­ì œí•˜ê³  ë¹ˆ ë””ë ‰í† ë¦¬ë¡œ ë‹¤ì‹œ ë§Œë“­ë‹ˆë‹¤.
```
sudo rm -rf /usr/share/elasticsearch
sudo mkdir /usr/share/elasticsearch
```

ê·¸ë¦¬ê³  ë‚˜ì„œ ì„œë²„ì˜ ë„¤íŠ¸ì›Œí¬ ë””ë ‰í† ë¦¬ë¥¼ ë§ˆìš´íŠ¸ í•´ ì¤ë‹ˆë‹¤.
```
sudo mount 192.168.0.10:/usr/share/elasticsearch /usr/share/elasticsearch
```

ì‹œìŠ¤í…œ ì¬ì‹œì‘ í›„ì—ë„ ê³µìœ  ë””ë ‰í† ë¦¬ê°€ ìœ ì§€ë˜ë„ë¡ `/etc/fstab` íŒŒì¼ì— ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
```
sudo vim /etc/fstab
192.168.0.10:/usr/share/elasticsearch    /usr/share/elasticsearch  nfs     auto,noatime,nolock,bg,nfsvers=3,intr,tcp,actimeo=1800  0 0
```

### `/etc/elasticsearch` ê³µìœ  ì„¤ì •

ë‹¤ìŒì€ config íŒŒì¼ë“¤ì´ ë“¤ì–´ìˆëŠ” `/etc/elasticsearch` ë””ë ‰í† ë¦¬ ê³µìœ ë¥¼ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤. config íŒŒì¼ë“¤ì€ ì½”ë””ë„¤ì´í„° ë…¸ë“œì™€ ë°ì´í„° ë…¸ë“œë“¤ì´ êµ¬ë¶„ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë°ì´í„° ë…¸ë“œë“¤ì€ ì„œë²„ì— `/etc/elasticsearch-data` ë¼ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ ì´ ë””ë ‰í† ë¦¬ì™€ ê³µìœ ë˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

#### ì„œë²„

ë¨¼ì € ì„œë²„ì—ì„œ ê¸°ì¡´ `/etc/elasticsearch` ë””ë ‰í† ë¦¬ë¥¼ ê¶Œí•œ ê·¸ëŒ€ë¡œ `/etc/elasticsearch-data`ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.
```
sudo cp -pr /etc/elasticsearch /etc/elasticsearch-data
```

ë‹¤ì‹œ `/etc/exports` íŒŒì¼ì„ ì—´ê³ 
```
sudo vim /etc/exports
```

ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
```
/etc/elasticsearch-data  192.168.0.11(rw,sync,no_root_squash,no_subtree_check)
/etc/elasticsearch-data  192.168.0.12(rw,sync,no_root_squash,no_subtree_check)
/etc/elasticsearch-data  192.168.0.13(rw,sync,no_root_squash,no_subtree_check)
```

ê·¸ë¦¬ê³  ì„¤ì •ì„ ì‹¤í–‰ í•´ ì¤ë‹ˆë‹¤.
```
sudo exportfs -a
```

#### í´ë¼ì´ì–¸íŠ¸

ë‹¤ì‹œ í´ë¼ì´ì–¸íŠ¸ë¡œ(3ê°œ ëª¨ë‘ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤) ê°€ì„œ ê¸°ì¡´ì˜ `/etc/elasticsearch` ì— ìˆëŠ” íŒŒì¼ë“¤ì„ ëª¨ë‘ ì‚­ì œ í•´ ì¤ë‹ˆë‹¤. ë£¨íŠ¸ ê¶Œí•œìœ¼ë¡œ ë“¤ì–´ê°€ì„œ ì‚­ì œ í•˜ëŠ” ê²ƒì´ í¸í•©ë‹ˆë‹¤.
```
sudo su
cd /etc/elasticsearch
rm -rf ./*
exit
```

ì„œë²„ì˜ `/etc/elasticsearch-data` ë„¤íŠ¸ì›Œí¬ ë””ë ‰í† ë¦¬ë¥¼ í´ë¼ì´ì–¸íŠ¸ì˜ `/etc/elasticsearch`ë¡œ ë§ˆìš´íŠ¸ í•´ ì¤ë‹ˆë‹¤.
```
sudo mount 192.168.0.10:/etc/elasticsearch-data /etc/elasticsearch
```

ì‹œìŠ¤í…œ ì¬ì‹œì‘ í›„ì—ë„ NFSê°€ ìœ ì§€ë˜ë„ë¡ `/etc/fstab` íŒŒì¼ì— ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
```
sudo vim /etc/fstab
192.168.0.10:/etc/elasticsearch-data  /etc/elasticsearch  nfs     auto,noatime,nolock,bg,nfsvers=3,intr,tcp,actimeo=1800  0 0
```

> ë§Œì•½ ì¬ì‹œì‘ í›„ ë°ì´í„° ë…¸ë“œì—ì„œ ì˜¤ë¥˜ê°€ ë‚˜ë©´ ê¸°ì¡´ ë°ì´í„° ë””ë ‰í† ë¦¬ë¥¼ ì‚­ì œí•´ì•¼ í•©ë‹ˆë‹¤.
ì•„ì§ ìš´ì˜ ë°ì´í„°ëŠ” ì—†ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.
```
sudo rm -rf /var/lib/elasticsearch/*
```

> ê·¸ë¦¬ê³  í˜¹ì‹œ í´ë¼ì´ì–¸íŠ¸ì— X-Pack ê°™ì€ í”ŒëŸ¬ê·¸ì¸ ì„¤ì • íŒŒì¼ë“¤ì´ ì—†ë‹¤ë©´ ì„œë²„ì˜ ë§ˆìŠ¤í„° ì„¤ì • ë””ë ‰í† ë¦¬ `/etc/elasticsearch` ì—ì„œ ë°ì´í„° ì„¤ì • ë””ë ‰í† ë¦¬ `/etc/elasticsearch-data` ë¡œ ë³µì‚¬ í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.
```
sudo cp -rp /etc/elasticsearch/elasticsearch.keystore /etc/elasticsearch-data/elasticsearch.keystore
sudo cp -rp /etc/elasticsearch/x-pack /etc/elasticsearch-data/x-pack
```

> íŒŒì¼ ì ‘ê·¼ ê¶Œí•œ ë•Œë¬¸ì— ë°ì´í„° ë…¸ë“œë“¤ì´ ì‹¤í–‰ì´ ì•ˆ ë ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°ì´í„° ë…¸ë“œë“¤ì˜ ê·¸ë£¹ ê¶Œí•œì„ ì•„ë˜ì™€ ê°™ì´ elasticsearchë¡œ ì„¤ì • í•´ ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.
```
sudo chown -R root:elasticsearch /etc/elasticsearch
```

## elasticsearch ì¬ì„¤ì •

ì´ì œ ì´ì „ í¬ìŠ¤íŠ¸ë“¤ì„ ì°¸ê³  í•´ì„œ `/etc/elasticsearch`,`/etc/elasticsearch-data` ì•ˆì— ìˆëŠ” ì„¤ì • íŒŒì¼ë“¤ì„ ë°ì´í„° ë…¸ë“œ ì„¤ì •ì— ë§ê²Œ ë°”ê¾¸ë„ë¡ í•©ë‹ˆë‹¤. ê¸°ì¡´ì— ë§ˆìŠ¤í„° ë…¸ë“œì˜€ë˜ ë…¸ë“œëŠ” ì½”ë””ë„¤ì´í„° ë…¸ë“œë¡œ ë‹¤ì‹œ ë³€ê²½í•˜ê² ìŠµë‹ˆë‹¤. ì´í›„ ëª¨ë“  ëª…ë ¹ì€ ì½”ë””ë„¤ì´í„° ë…¸ë“œì—ì„œ ì‹¤í–‰ í•´ ì¤ë‹ˆë‹¤.

### Coordinate (Client) Node

ë¨¼ì € ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œì˜ ë©”ëª¨ë¦¬ëŠ” ê¸°ì¡´ì— 4GB ì—ì„œ 2GBë¡œ ì¤„ì´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ë°ì´í„° ë…¸ë“œëŠ” 8GB ê·¸ëŒ€ë¡œ ë‘¡ë‹ˆë‹¤.
```
[ ]$ sudo vim /etc/elasticsearch/jvm.options
-Xms2g
-Xmx2g
```

ì´ì œ ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œì˜ `elasticsearch.yml` ì„¤ì •ì„ ë³€ê²½í•©ë‹ˆë‹¤.
```
sudo vim /etc/elasticsearch/elasticsearch.yml
```

ë§ˆìŠ¤í„° ë…¸ë“œê°€ ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œë¡œ ë°”ë€Œì—ˆê¸° ë•Œë¬¸ì— unicast ì„¤ì •ë„ ë°ì´í„°ë…¸ë“œ 3ê°œì˜ ì•„ì´í”¼ë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤. ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œì™€ ë°ì´í„° ë…¸ë“œ ì„¤ì • íŒŒì¼ ëª¨ë‘ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
```
discovery.zen.ping.unicast.hosts:
  - 192.168.0.11
  - 192.168.0.12
  - 192.168.0.13
```

ë‹¤ìŒì€ ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œì˜ ë§ˆìŠ¤í„°ì™€ ë°ì´í„° ì„¤ì •ì„ ëª¨ë‘ ë¹„í™œì„±í™” ì‹œí‚µë‹ˆë‹¤.
```
node.master: false
node.data: false
```

### Data Node

ë°ì´í„° ë…¸ë“œì˜ `elasticsearch.yml` ì„¤ì •ì„ ë³€ê²½í•©ë‹ˆë‹¤. ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œê°€ ìˆëŠ” ì„œë²„ì—ì„œ ê³µìœ  ë””ë ‰í† ë¦¬ì— ìˆëŠ” ì„¤ì • íŒŒì¼ì„ í¸ì§‘í•˜ë©´ ë©ë‹ˆë‹¤.
```
sudo vim /etc/elasticsearch-data/elasticsearch.yml
```

ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œì™€ ë§ˆì°¬ê°€ì§€ë¡œ unicast ì„¤ì •ì„ ë°ì´í„°ë…¸ë“œ 3ê°œì˜ ì•„ì´í”¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
```
discovery.zen.ping.unicast.hosts:
  - 192.168.0.11
  - 192.168.0.12
  - 192.168.0.13
```

ê¸°ì¡´ì˜ `node.master: false` ë¶€ë¶„ì€ ì‚­ì œí•©ë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ë°ì´í„° ë…¸ë“œë“¤ì€ REST APIë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ http í¬íŠ¸ë¥¼ ë¹„í™œì„±í™” ì‹œí‚µë‹ˆë‹¤.
```
http.enabled: false
```

ì´ì œ ëª¨ë“  ì„¤ì •ì´ ëë‚¬ìœ¼ë©´ ì„œë²„ë“¤ì„ ì¬ì‹œì‘ í•©ë‹ˆë‹¤. ê°œì¸ì ì¸ ê²½í—˜ì¸ë° í•œêº¼ë²ˆì— ë™ì‹œì— ì¬ì‹œì‘ í•˜ë‹ˆê¹Œ ë°ì´í„°ë…¸ë“œ í•˜ë‚˜ê°€ í´ëŸ¬ìŠ¤í„°ì— ì•ˆ ë¶™ëŠ” ê²½ìš°ê°€ ìˆì—ˆëŠ”ë° ê·¸ ì„œë²„ë§Œ ë‹¤ì‹œ ì¬ì‹œì‘ í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ë¶™ìŠµë‹ˆë‹¤.

X-Pack ëª¨ë‹ˆí„°ë§ í™”ë©´ì—ì„œ í™•ì¸ í•´ ë³´ë©´ ì´ë²ˆì—ëŠ” ë°ì´í„° ë…¸ë“œ ì¤‘ í•˜ë‚˜ê°€ ë§ˆìŠ¤í„°ë¥¼ ê²¸í•˜ê³  ìˆê³  ê¸°ì¡´ì˜ ë§ˆìŠ¤í„° ë…¸ë“œëŠ” ê³„ì† ë°ì´í„°ë¥¼ ì €ì¥í•˜ì§€ ì•ŠëŠ” ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œë¡œ ë‚¨ì€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![](coordinate-monitoring.png)

ì´ì œ ë„¤íŠ¸ì›Œí¬ íŒŒì¼ ì„¤ì •ì´ ëë‚¬ìœ¼ë‹ˆ ì•ìœ¼ë¡œ í™˜ê²½ ì„¤ì •ì„ ë³€ê²½í•˜ê±°ë‚˜ ì—…ê·¸ë ˆì´ë“œ, íŒ¨ì¹˜ ë“±ì„ í•  ë•Œë„ ë°ì´í„° ë…¸ë“œ ì„œë²„ì— ì ‘ì†í•  ì¼ ì—†ì´ ì½”ë””ë„¤ì´íŠ¸ ë…¸ë“œ ì„œë²„ì—ì„œ ëª¨ë“  ê²ƒì„ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ë‹¤ìŒí¸ì—ëŠ” ì§„ì§œë¡œ X-Pack Security ì„¤ì •ì„ ë‹¤ë£¨ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

> [1. ì„œë²„ ìƒì„± ë° Elasticsearch RPM ì„¤ì¹˜](/2018/01/2018-01-build-es-cluster-1)
> [2. ë©”ëª¨ë¦¬, ë„¤íŠ¸ì›Œí¬ ì„¤ì • ë° í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜](/2018/01/2018-01-build-es-cluster-2)
> [3. í´ëŸ¬ìŠ¤í„° êµ¬ì„± ë° ë§ˆìŠ¤í„°, ë°ì´í„° ë…¸ë“œ ì„¤ì •](/2018/01/2018-01-build-es-cluster-3)
> [4. Kibana ì„¤ì¹˜ ë° X-Pack Monitoring í™•ì¸](/2018/01/2018-01-build-es-cluster-4)
> **5. NFS êµ¬ì„± ë° elasticsearch ì¶”ê°€ ì„¤ì •**
> [6. X-Pack Securityë¥¼ ì´ìš©í•œ SSL ë° TLS ì„¤ì •](/2018/01/2018-01-build-es-cluster-6)
> [7. X-Pack License ì ìš© ë° ì‚¬ìš©ì ìƒì„±](/2018/01/2018-01-build-es-cluster-7)
> [8. Logstash ì„¤ì¹˜ ë° Elasticsearch ê¸°ë³¸ í…œí”Œë¦¿ ì„¤ì •](/2018/01/2018-01-build-es-cluster-8)